(this.webpackJsonpweather__app=this.webpackJsonpweather__app||[]).push([[0],{12:function(e,t,a){},13:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),s=a(5),r=a.n(s),i=(a(12),a(13),a(3)),o=a(2),l=a(0),d=function(e){var t=e.info,a=t.date,c=t.weather,n=t.icon,s=new Date(1e3*+a),r={1:"jan",2:"feb",3:"mar",4:"apr",5:"may",6:"jun",7:"jul",8:"aug",9:"sep",10:"oct",11:"nov",12:"dec"}["".concat(s.getMonth()+1)],i=+"".concat(Math.round(+c-273.15));return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"weather__card",children:[Object(l.jsx)("div",{className:"weather__date",children:"".concat(s.getDate()," ").concat(r," ").concat(s.getFullYear())}),Object(l.jsx)("div",{className:"weather__icon",children:Object(l.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(n,"@2x.png")})}),Object(l.jsx)("div",{className:"weather__temp",children:"".concat(i>0?"+"+i:i)})]})})},h=a.p+"static/media/Academy-Weather-bg160.1a743710.svg",j=function(){return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"weather__card weather__card_default",children:[Object(l.jsx)("div",{className:"weather__icon",children:Object(l.jsx)("img",{src:h})}),Object(l.jsx)("div",{className:"weather__title",children:"Fill in all the fields and the weather will be displayed"})]})})},u=a(6),b=a(7),_=function(){function e(t,a,c,n,s){Object(u.a)(this,e),this.url=t,this.lat=a,this.lon=c,this.dt=n,this.Apikey=s}return Object(b.a)(e,[{key:"handleOriginalResponse",value:function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}},{key:"weatherOnWeek",value:function(){return fetch("".concat(this.url,"lat=").concat(this.lat,"&lon=").concat(this.lon,"&dt=").concat(this.dt,"&appid=").concat(this.Apikey)).then(this.handleOriginalResponse)}},{key:"weatherForPast",value:function(){return fetch("".concat(this.url,"lat=").concat(this.lat,"&lon=").concat(this.lon,"&dt=").concat(this.dt,"&appid=").concat(this.Apikey)).then(this.handleOriginalResponse)}}]),e}(),p="7502839bf5a559b85bd11512693a5993",O=function(){var e=n.a.useState({lat:"",lon:"",dt:""}),t=Object(o.a)(e,2),a=t[0],c=t[1],s=n.a.useState(""),r=Object(o.a)(s,2),h=r[0],u=r[1],b=n.a.useState(""),O=Object(o.a)(b,2),x=O[0],m=O[1],g=n.a.useState({date:"",weather:"",icon:""}),f=Object(o.a)(g,2),w=f[0],v=f[1],N=w.date,y=w.weather,k=w.icon;n.a.useEffect((function(){}),[w]),n.a.useEffect((function(){!function(){var e=new Date,t=e.setDate(e.getDate()-5),a=new Date(t);u("".concat(a.getFullYear(),"-0").concat(a.getMonth()+1,"-").concat(a.getDate()))}(),function(){var e=new Date;m("".concat(e.getFullYear(),"-0").concat(e.getMonth()+1,"-").concat(e.getDate()))}()}),[h,x]),n.a.useEffect((function(){var e=a.lat,t=a.lon,c=a.dt;e&&t&&c&&new _("https://api.openweathermap.org/data/2.5/onecall/timemachine?",e,t,c,p).weatherForPast().then((function(e){return v({date:c,weather:e.current.temp,icon:e.current.weather[0].icon})})).catch((function(e){return console.log(e)}))}),[a]);var D=function(e){a.lat,a.lon,a.dt;if(e.target===document.querySelector("input[type=date]")){var t=e.target.value,n=new Date(t).getTime()/1e3;c(Object(i.a)(Object(i.a)({},a),{},{dt:""+n}))}else if(e.target===document.querySelector("#city__past")){var s=e.target[e.target.selectedIndex].attributes.lat.value,r=e.target[e.target.selectedIndex].attributes.lon.value;c(Object(i.a)(Object(i.a)({},a),{},{lat:s,lon:r}))}};return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"weather__widget",children:[Object(l.jsx)("h2",{className:"weather__header",children:"Forecast for a Date in the Past"}),Object(l.jsxs)("div",{className:"weather__inputs",children:[Object(l.jsxs)("select",{id:"city__past",className:"weather__select",name:"city__past",type:"text",onChange:D,children:[Object(l.jsx)("option",{selected:!0,disabled:!0,children:"Select city"}),Object(l.jsx)("option",{lat:"53.195873",lon:"50.100193",children:"\u0421\u0430\u043c\u0430\u0440\u0430"}),Object(l.jsx)("option",{lat:"53.507836",lon:"49.420393",children:"\u0422\u043e\u043b\u044c\u044f\u0442\u0442\u0438"}),Object(l.jsx)("option",{lat:"51.533557",lon:"46.034257",children:"\u0421\u0430\u0440\u0430\u0442\u043e\u0432"}),Object(l.jsx)("option",{lat:"55.796127",lon:"49.106405",children:"\u041a\u0430\u0437\u0430\u043d\u044c"}),Object(l.jsx)("option",{lat:"45.035470",lon:"38.975313",children:"\u041a\u0440\u0430\u0441\u043d\u043e\u0434\u0430\u0440"})]}),Object(l.jsx)("input",{className:"weather__input",type:"date",placeholder:"Date",min:h,max:x,onChange:D})]}),N&&y&&k?Object(l.jsx)(d,{info:w}):Object(l.jsx)(j,{})]})})},x=function(e){var t=e.info,a=e.style,c=t.dt,n=t.temp,s=t.weather,r=n.max,i=s[0].icon,o=new Date(1e3*+c),d=Math.round(+r-273.15),h={1:"jan",2:"feb",3:"mar",4:"apr",5:"may",6:"jun",7:"jul",8:"aug",9:"sep",10:"oct",11:"nov",12:"dec"}["".concat(o.getMonth()+1)];return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"weather__card ".concat(a?"weather__card_"+a:""),children:[Object(l.jsx)("div",{className:"weather__date",children:"".concat(o.getDate()," ").concat(h," ").concat(o.getFullYear())}),Object(l.jsx)("div",{className:"weather__icon ".concat(a?"weather__icon_"+a:""),children:Object(l.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(i,"@2x.png")})}),Object(l.jsx)("div",{className:"weather__temp",children:"".concat(d>0?"+"+d:d)})]})})},m=function(){var e=n.a.useRef(null),t=n.a.useState(!1),a=Object(o.a)(t,2),c=(a[0],a[1]),s=n.a.useState(!1),r=Object(o.a)(s,2),d=(r[0],r[1]),h=0,u=n.a.useState({lat:"",lon:"",dt:""}),b=Object(o.a)(u,2),O=b[0],m=b[1],g=n.a.useState([]),f=Object(o.a)(g,2),w=f[0],v=f[1];function N(){0===h?c(!0):(h+=184,c(!1),e.current.childNodes.forEach((function(e){e.style="transform: translateX(".concat(h,"px)")})))}function y(){-1288===h?(d(!0),c(!1)):(c(!1),h-=184,e.current.childNodes.forEach((function(e){e.style="transform: translateX(".concat(h,"px)")})))}function k(e){"ArrowLeft"===e.key?N():"ArrowRight"===e.key&&y()}return n.a.useEffect((function(){var e=O.lat,t=O.lon,a=O.dt;e&&t&&a&&new _("https://api.openweathermap.org/data/2.5/onecall?",e,t,a,p).weatherOnWeek().then((function(e){return v(e.daily)})).catch((function(e){return console.log(e)}))}),[O]),n.a.useEffect((function(){document.addEventListener("keydown",k)}),[w]),Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"weather__widget",children:[Object(l.jsx)("h2",{className:"weather__header",children:"7 Days Forecast"}),Object(l.jsx)("div",{className:"weather__inputs",children:Object(l.jsxs)("select",{id:"city__week",className:"weather__select",type:"text",onChange:function(e){if(O.lat,O.lon,O.dt,e.target===document.querySelector("#city__week")){var t=e.target[e.target.selectedIndex].attributes.lat.value,a=e.target[e.target.selectedIndex].attributes.lon.value,c=new Date,n=""+c.setDate(c.getDate());m(Object(i.a)(Object(i.a)({},O),{},{lat:t,lon:a,dt:n}))}},children:[Object(l.jsx)("option",{selected:!0,disabled:!0,children:"Select city"}),Object(l.jsx)("option",{lat:"53.195873",lon:"50.100193",children:"\u0421\u0430\u043c\u0430\u0440\u0430"}),Object(l.jsx)("option",{lat:"53.507836",lon:"49.420393",children:"\u0422\u043e\u043b\u044c\u044f\u0442\u0442\u0438"}),Object(l.jsx)("option",{lat:"51.533557",lon:"46.034257",children:"\u0421\u0430\u0440\u0430\u0442\u043e\u0432"}),Object(l.jsx)("option",{lat:"55.796127",lon:"49.106405",children:"\u041a\u0430\u0437\u0430\u043d\u044c"}),Object(l.jsx)("option",{lat:"45.035470",lon:"38.975313",children:"\u041a\u0440\u0430\u0441\u043d\u043e\u0434\u0430\u0440"})]})}),!w.length&&Object(l.jsx)(j,{}),w.length>0&&Object(l.jsxs)("div",{className:"slider",children:[Object(l.jsx)("div",{className:"slider__track",ref:e,children:w.map((function(e){return Object(l.jsx)(x,{info:e,style:"slider"},e.dt)}))}),Object(l.jsx)("button",{className:"slider__button slider__button_prev",onClick:N}),Object(l.jsx)("button",{className:"slider__button slider__button_next",onClick:y})]})]})})},g=function(){return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"weathers__container",children:[Object(l.jsx)(m,{}),Object(l.jsx)(O,{})]})})};var f=function(){return Object(l.jsxs)("div",{className:"page",children:[Object(l.jsxs)("div",{className:"page__container",children:[Object(l.jsx)("div",{className:"header__wrapper",children:Object(l.jsxs)("h1",{className:"header",children:["Weather ",Object(l.jsx)("br",{}),Object(l.jsx)("span",{className:"header__text",children:"Forecast"})]})}),Object(l.jsx)(g,{})]}),Object(l.jsx)("div",{className:"page__background_desktop page__background_desktop-top"}),Object(l.jsx)("div",{className:"page__background_desktop page__background_desktop-bottom"}),Object(l.jsx)("footer",{children:Object(l.jsx)("p",{className:"footer__text",children:"\u0421 \u043b\u044e\u0431\u043e\u0432\u044c\u044e \u043e\u0442 MERCURY DEVELOPMENT"})})]})};r.a.render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)(f,{})}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.e0a28030.chunk.js.map