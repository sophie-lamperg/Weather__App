{"ast":null,"code":"export default class Api {\n  constructor(url, lat, lon, dt, key) {\n    this.url = url;\n    this.lat = lat;\n    this.lon = lon;\n    this.dt = dt;\n    this.key = key;\n  }\n\n  handleOriginalResponse(res) {\n    if (!res.ok) {\n      return Promise.reject(`Error: ${res.status}`);\n    }\n\n    return res.json();\n  }\n\n  weatherOnWeek(lat, lon, dt) {\n    return fetch(`https:api.openweathermap.org/data/2.5/onecall?lat=${lat}&lon=${lon}&dt=${dt}&appid=7502839bf5a559b85bd11512693a5993`).then(res => res.json()).then(data => setWeatherWeek(data.daily)).catch(err => console.log(err));\n  }\n\n  weatherForPast() {\n    return fetch(`${url}lat=${lat}&lon=${lon}&dt=${dt}&appid=${APIKEY}`).then(this._handleOriginalResponse);\n  }\n\n}","map":{"version":3,"sources":["/Users/sophiastetsura/Desktop/mercury/weather__app/src/utils/api.js"],"names":["Api","constructor","url","lat","lon","dt","key","handleOriginalResponse","res","ok","Promise","reject","status","json","weatherOnWeek","fetch","then","data","setWeatherWeek","daily","catch","err","console","log","weatherForPast","APIKEY","_handleOriginalResponse"],"mappings":"AAAA,eAAe,MAAMA,GAAN,CAAU;AAErBC,EAAAA,WAAW,CAACC,GAAD,EAAMC,GAAN,EAAWC,GAAX,EAAgBC,EAAhB,EAAoBC,GAApB,EAAwB;AAC/B,SAAKJ,GAAL,GAAWA,GAAX;AACA,SAAKC,GAAL,GAAWA,GAAX;AACA,SAAKC,GAAL,GAAWA,GAAX;AACA,SAAKC,EAAL,GAAUA,EAAV;AACA,SAAKC,GAAL,GAAWA,GAAX;AACH;;AAEDC,EAAAA,sBAAsB,CAACC,GAAD,EAAM;AACxB,QAAI,CAACA,GAAG,CAACC,EAAT,EAAa;AACT,aAAOC,OAAO,CAACC,MAAR,CAAgB,UAASH,GAAG,CAACI,MAAO,EAApC,CAAP;AACH;;AACD,WAAOJ,GAAG,CAACK,IAAJ,EAAP;AACH;;AAEAC,EAAAA,aAAa,CAACX,GAAD,EAAMC,GAAN,EAAWC,EAAX,EAAe;AACzB,WAAOU,KAAK,CAAE,qDAAoDZ,GAAI,QAAOC,GAAI,OAAMC,EAAG,yCAA9E,CAAL,CACNW,IADM,CACDR,GAAG,IAAIA,GAAG,CAACK,IAAJ,EADN,EAENG,IAFM,CAEDC,IAAI,IAAIC,cAAc,CAACD,IAAI,CAACE,KAAN,CAFrB,EAGNC,KAHM,CAGAC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAHP,CAAP;AAIH;;AAGAG,EAAAA,cAAc,GAAG;AACd,WAAOT,KAAK,CAAE,GAAEb,GAAI,OAAMC,GAAI,QAAOC,GAAI,OAAMC,EAAG,UAASoB,MAAO,EAAtD,CAAL,CACNT,IADM,CACD,KAAKU,uBADJ,CAAP;AAEH;;AA5BoB","sourcesContent":["export default class Api {\n\n    constructor(url, lat, lon, dt, key){\n        this.url = url;\n        this.lat = lat;\n        this.lon = lon;\n        this.dt = dt;\n        this.key = key;\n    }\n\n    handleOriginalResponse(res) {\n        if (!res.ok) {\n            return Promise.reject(`Error: ${res.status}`);\n        }\n        return res.json();\n    }\n\n     weatherOnWeek(lat, lon, dt) {\n        return fetch(`https:api.openweathermap.org/data/2.5/onecall?lat=${lat}&lon=${lon}&dt=${dt}&appid=7502839bf5a559b85bd11512693a5993`)\n        .then(res => res.json())\n        .then(data => setWeatherWeek(data.daily))\n        .catch(err => console.log(err))\n    }\n\n\n     weatherForPast() {\n        return fetch(`${url}lat=${lat}&lon=${lon}&dt=${dt}&appid=${APIKEY}`)\n        .then(this._handleOriginalResponse);\n    }\n}\n\n\n"]},"metadata":{},"sourceType":"module"}